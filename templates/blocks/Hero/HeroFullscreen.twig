{% import 'macro/el.twig' as el %}

{# Base wrapper classes #}
{% set wrapper_classes = [
    'section-hero-post',
    'relative',
    'w-full',
    'h-[100vh]',
    'min-h-[768px]',
    'max-h-[1200px]',
    'bg-cover',
    'bg-center',
    'bg-no-repeat',
    block.className,
]|join(' ')|trim %}

{% set img_background = fields.background_image.url ?? 'https://picsum.photos/1920/768' %}
{% set img_alt = fields.background_image.alt ?? '' %}

<section 
  class="{{ wrapper_classes }}" 
  style="background: linear-gradient(rgba(0,0,0,0.25),rgba(0,0,0,0.25)),url('{{ img_background }}') no-repeat center / cover;"
  role="banner"
  aria-label="Hero section{% if fields.title.label %}: {{ fields.title.label|striptags }}{% endif %}">
  
  {# Announce background image to screen readers as decorative #}
  <div class="sr-only" aria-hidden="true">{{ img_alt }}</div>
      
      {% set overlay_classes = [
        'overlay',
        'text-center',
        'p-14',
        'absolute',
        'top-1/2',
        '-translate-y-1/2',
        'md:top-auto',
        'md:bottom-0',
        'md:translate-y-0',
        'left-1/2',
        '-translate-x-1/2',
        'h-fit',
        'md:h-auto',
        'w-3/4',
        'lg:w-1/3',
        'bg-' ~ (block.backgroundColor|default('rosewood')),
      ]|join(' ') %}
      
      <div class="{{ overlay_classes }}">
        {% if fields.small_title %}
          {{ el.heading({ 
            field: fields.small_title, 
            block: block,
            classes: 'mb-2'
          }) }}
        {% endif %}
        
        {% if fields.title %}
          {{ el.heading({ 
            field: fields.title, 
            block: block,
            classes: 'mb-4'
          }) }}
        {% endif %}
        
        {% if fields.subtitle %}
          {{ el.heading({ 
            field: fields.subtitle, 
            block: block
          }) }}
        {% endif %}
        
        {% if fields.description %}
          {% set description_classes = [
            'wrapper-description',
            'mt-12',
            'p',
            'body',
            'text-[18px]',
            'p-sand',
          ]|join(' ') %}
          
          <div class="{{ description_classes }}">
            {{ fields.description|raw }}
          </div>
        {% endif %}
      </div>
</section>
